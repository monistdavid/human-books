{
  "init_opt": "arch/bart_large",
  "allow_missing_init_opts": false,
  "task": "cmu_dog,wizard_of_wikipedia",
  "download_path": null,
  "loglevel": "info",
  "datatype": "train",
  "image_mode": "raw",
  "hide_labels": false,
  "multitask_weights": [
    1
  ],
  "batchsize": 1,
  "dynamic_batching": null,
  "verbose": false,
  "is_debug": false,
  "datapath": "/home/ubuntu/.local/lib/python3.8/site-packages/data",
  "model": "rag",
  "model_file": "bart_rag/trained_bart_rag",
  "init_model": "/home/ubuntu/.local/lib/python3.8/site-packages/data/models/bart/bart_large/model",
  "dict_class": "parlai.core.dict:DictionaryAgent",
  "evaltask": null,
  "final_extra_opt": "",
  "eval_batchsize": null,
  "eval_dynamic_batching": null,
  "num_workers": 0,
  "display_examples": false,
  "num_epochs": -1,
  "max_train_time": -1,
  "max_train_steps": -1,
  "log_every_n_steps": 50,
  "validation_every_n_secs": -1,
  "validation_every_n_steps": -1,
  "save_every_n_secs": -1,
  "save_after_valid": false,
  "validation_every_n_epochs": 0.25,
  "validation_max_exs": 1000,
  "short_final_eval": false,
  "validation_patience": 5,
  "validation_metric": "ppl",
  "validation_metric_mode": "min",
  "validation_cutoff": 1.0,
  "load_from_checkpoint": true,
  "validation_share_agent": false,
  "metrics": "default",
  "aggregate_micro": false,
  "world_logs": "",
  "save_format": "conversations",
  "log_keep_fields": "all",
  "tensorboard_log": false,
  "tensorboard_logdir": null,
  "wandb_log": false,
  "wandb_name": null,
  "wandb_project": null,
  "wandb_entity": null,
  "dict_maxexs": -1,
  "dict_include_valid": false,
  "dict_include_test": false,
  "log_every_n_secs": 30.0,
  "image_size": 256,
  "image_cropsize": 224,
  "cmu_dog_rating": [
    1,
    2,
    3
  ],
  "cmu_dog_only_with_knowledge": true,
  "cmu_dog_multi_msg_delimiter": " ",
  "cmu_dog_fact_delimiter": ";",
  "cmu_dog_include_knowledge_keys": "cast,critical_response,director,genre,introduction,movieName,rating,year",
  "cmu_dog_provide_movie_context": true,
  "cmu_dog_split_type": "SplitType.ORIGINAL_DEDUPED",
  "mutators": null,
  "label_type": "response",
  "include_knowledge": true,
  "include_checked_sentence": true,
  "include_knowledge_separator": false,
  "chosen_topic_delimiter": "\n",
  "num_topics": 5,
  "add_missing_turns": "train",
  "candidates": "inline",
  "eval_candidates": "inline",
  "interactive_candidates": "fixed",
  "repeat_blocking_heuristic": true,
  "fixed_candidates_path": null,
  "fixed_candidate_vecs": "reuse",
  "encode_candidate_vecs": true,
  "encode_candidate_vecs_batchsize": 256,
  "train_predict": false,
  "cap_num_predictions": 100,
  "ignore_bad_candidates": false,
  "rank_top_k": -1,
  "return_cand_scores": false,
  "use_memories": false,
  "wrap_memory_encoder": false,
  "memory_attention": "sqrt",
  "normalize_sent_emb": false,
  "share_encoders": true,
  "learn_embeddings": true,
  "data_parallel": false,
  "reduction_type": "mean",
  "polyencoder_type": "codes",
  "poly_n_codes": 64,
  "poly_attention_type": "basic",
  "poly_attention_num_heads": 4,
  "codes_attention_type": "basic",
  "codes_attention_num_heads": 4,
  "generation_model": "bart",
  "query_model": "bert",
  "rag_model_type": "token",
  "thorough": false,
  "n_extra_positions": 0,
  "gold_knowledge_passage_key": "checked_sentence",
  "gold_knowledge_title_key": "title",
  "rag_retriever_query": "full_history",
  "rag_retriever_type": "dpr",
  "retriever_debug_index": null,
  "n_docs": 5,
  "min_doc_token_length": 64,
  "max_doc_token_length": 256,
  "rag_query_truncate": 512,
  "print_docs": false,
  "path_to_index": "zoo:hallucination/wiki_index_compressed/compressed_pq",
  "path_to_dense_embeddings": null,
  "dpr_model_file": "zoo:hallucination/multiset_dpr/hf_bert_base.cp",
  "path_to_dpr_passages": "zoo:hallucination/wiki_passages/psgs_w100.tsv",
  "retriever_embedding_size": 768,
  "tfidf_max_doc_paragraphs": -1,
  "tfidf_model_path": "zoo:wikipedia_full/tfidf_retriever/model",
  "dpr_num_docs": 25,
  "poly_score_initial_lambda": 0.5,
  "polyencoder_init_model": "wikito",
  "poly_faiss_model_file": null,
  "regret": false,
  "regret_intermediate_maxlen": 32,
  "regret_model_file": null,
  "regret_dict_file": null,
  "regret_override_index": false,
  "indexer_type": "compressed",
  "indexer_buffer_size": 65536,
  "compressed_indexer_factory": "IVF4096_HNSW128,PQ128",
  "compressed_indexer_gpu_train": false,
  "compressed_indexer_nprobe": 64,
  "hnsw_indexer_store_n": 128,
  "hnsw_ef_search": 128,
  "hnsw_ef_construction": 200,
  "rag_turn_n_turns": 2,
  "rag_turn_marginalize": "doc_then_turn",
  "rag_turn_discount_factor": 1.0,
  "embedding_size": 1024,
  "n_layers": 2,
  "ffn_size": 4096,
  "dropout": 0.1,
  "attention_dropout": 0.0,
  "relu_dropout": 0.0,
  "n_heads": 16,
  "learn_positional_embeddings": true,
  "embeddings_scale": false,
  "n_positions": 1024,
  "n_segments": 0,
  "variant": "bart",
  "activation": "gelu",
  "output_scaling": 1.0,
  "share_word_embeddings": true,
  "n_encoder_layers": 12,
  "n_decoder_layers": 12,
  "model_parallel": true,
  "checkpoint_activations": false,
  "init_fairseq_model": null,
  "output_conversion_path": null,
  "beam_size": 1,
  "beam_min_length": 1,
  "beam_context_block_ngram": -1,
  "beam_block_ngram": -1,
  "beam_block_full_context": true,
  "beam_length_penalty": 0.65,
  "skip_generation": false,
  "inference": "greedy",
  "topk": 10,
  "topp": 0.9,
  "beam_delay": 30,
  "beam_block_list_filename": null,
  "temperature": 1.0,
  "compute_tokenized_bleu": false,
  "interactive_mode": false,
  "embedding_type": "random",
  "embedding_projection": "random",
  "fp16": true,
  "fp16_impl": "safe",
  "force_fp16_tokens": true,
  "optimizer": "adam",
  "learningrate": 1e-05,
  "gradient_clip": 0.1,
  "adam_eps": 1e-08,
  "adafactor_eps": [1e-30, 0.001],
  "momentum": 0,
  "nesterov": true,
  "nus": [0.7],
  "betas": [0.9, 0.999],
  "weight_decay": null,
  "rank_candidates": false,
  "truncate": 512,
  "text_truncate": 512,
  "label_truncate": 128,
  "history_reversed": false,
  "history_size": -1,
  "person_tokens": false,
  "split_lines": false,
  "use_reply": "label",
  "add_p1_after_newln": false,
  "delimiter": "\n",
  "history_add_global_end_token": null,
  "special_tok_lst": null,
  "gpu": -1,
  "no_cuda": false,
  "dict_file": "/home/ubuntu/.local/lib/python3.8/site-packages/data/models/bart/bart_large/model.dict",
  "dict_initpath": null,
  "dict_language": "english",
  "dict_max_ngram_size": -1,
  "dict_minfreq": 0,
  "dict_maxtokens": -1,
  "dict_nulltoken": "__null__",
  "dict_starttoken": "__start__",
  "dict_endtoken": "__end__",
  "dict_unktoken": "__unk__",
  "dict_tokenizer": "gpt2",
  "dict_lower": false,
  "bpe_debug": false,
  "dict_textfields": "text,labels",
  "bpe_vocab": null,
  "bpe_merge": null,
  "bpe_add_prefix_space": null,
  "bpe_dropout": null,
  "lr_scheduler": "reduceonplateau",
  "lr_scheduler_patience": 1,
  "lr_scheduler_decay": 0.5,
  "invsqrt_lr_decay_gamma": -1,
  "warmup_updates": -1,
  "warmup_rate": 0.0001,
  "update_freq": 1,
  "t5_model_arch": "t5-base",
  "t5_model_parallel": false,
  "t5_dropout": 0.0,
  "t5_generation_config": null,
  "parlai_home": "/home/ubuntu/.local/lib/python3.8/site-packages",
  "override": "{'model': 'rag', 'task': 'cmu_dog,wizard_of_wikipedia', 'rag_model_type': 'token', 'rag_retriever_type': 'dpr', 'dpr_model_file': 'zoo:hallucination/multiset_dpr/hf_bert_base.cp', 'generation_model': 'bart', 'init_opt': 'arch/bart_large', 'add_missing_turns': 'train', 'batchsize': 1, 'fp16': True, 'gradient_clip': 0.1, 'label_truncate': 128, 'log_every_n_secs': 30.0, 'lr_scheduler': 'reduceonplateau', 'lr_scheduler_patience': 1, 'model_parallel': True, 'optimizer': 'adam', 'text_truncate': 512, 'truncate': 512, 'learningrate': 1e-05, 'validation_metric_mode': 'min', 'validation_every_n_epochs': 0.25, 'validation_max_exs': 1000, 'validation_metric': 'ppl', 'validation_patience': 5, 'model_file': 'bart_rag/trained_bart_rag', 'activation': 'gelu', 'attention_dropout': 0.0, 'dict_file': '/home/ubuntu/.local/lib/python3.8/site-packages/data/models/bart/bart_large/model.dict', 'dict_tokenizer': 'gpt2', 'dropout': 0.1, 'embedding_size': 1024, 'embeddings_scale': False, 'ffn_size': 4096, 'force_fp16_tokens': True, 'init_model': 'zoo:bart/bart_large/model', 'learn_positional_embeddings': True, 'n_decoder_layers': 12, 'n_encoder_layers': 12, 'n_heads': 16, 'n_positions': 1024, 'variant': 'bart'}",
  "starttim": "Jul01_04-49"
}